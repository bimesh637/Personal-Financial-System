<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>PFMS • Sign Up</title>
<style>
body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; margin: 24px; }
.row { display:flex; gap:12px; flex-wrap:wrap; align-items:flex-end; }
input { padding:10px; border:1px solid #e5e7eb; border-radius:8px; }
.btn { padding:10px 14px; border:1px solid #e5e7eb; border-radius:10px; background:#fff; }
.btn.primary { background:#0ea5e9; color:#fff; border-color:transparent; }
</style>
</head>
<body>
<a href="index.html" class="btn">← Home</a>
<h1>Sign Up</h1>
<div class="row">
<label> Full name<br>
<input id="full_name" placeholder="Your name" />
</label>
<label> Email<br>
<input id="email" type="email" placeholder="you@example.com" />
</label>
<label> Password<br>
<input id="password" type="password" placeholder="min 8 chars" />
</label>
<button class="btn primary" id="btn-signup">Create account</button>
</div>
<p id="msg" style="color:#6b7280; margin-top:10px;"></p>


<script>
async function signup(){
const body = {
full_name: document.getElementById('full_name').value.trim(),
email: document.getElementById('email').value.trim(),
password: document.getElementById('password').value
};
const res = await fetch('api/signup.php', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(body), credentials:'include' });
const out = document.getElementById('msg');
if(!res.ok){ out.textContent = 'Failed: ' + (await res.text()); return; }
out.textContent = 'Account created. Redirecting...';
setTimeout(()=>{ location.href = 'index.html'; }, 600);
}
document.getElementById('btn-signup').addEventListener('click', signup);
</script>
</body>
</html>